!function(){function t(t){function a(){var t=document.getElementsByTagName("VIDEO");if(t.length)for(var e=0;e<t.length;e++)t[e].pause()}function c(t){a(),g.container.classList.remove(e),"modal"===g.type&&(g.overlay=g.container.getElementsByClassName(o)[0],g.overlay.parentNode.removeChild(g.overlay)),t.preventDefault()}function s(t){var e=window.innerWidth;g.trigger={},g.trigger.left=t.target.offsetLeft,g.trigger.top=t.target.offsetTop;var n={};n.left=g.trigger.left,n.top=g.trigger.top-(g.content.offsetHeight+r),n.top<10&&(n.top=g.trigger.top+r),n.left+r+g.content.offsetWidth>e-10&&(n.left=e-(r+g.content.offsetWidth)),g.content.style.top=n.top+"px",g.content.style.left=n.left+"px",console.group(t.target),console.log("trigger.left: "+g.trigger.left),console.log("trigger.top: "+g.trigger.top),console.log("content.offsetHeight: "+g.content.offsetHeight),console.log("popup.content.offsetWidth: "+g.content.offsetWidth),console.log("screenWidth: "+e),console.log(g.content),console.groupEnd(t.target)}function i(t){switch(g.type){case"modal":g.overlay=document.createElement("div"),g.overlay.classList.add(o),l++,g.overlay.style.zIndex=l,g.container.appendChild(g.overlay);break;case"inplace":s(t)}l++,g.content.style.zIndex=l,a(),g.container.classList.add(e),t.preventDefault()}var g={};g.container=this.parentElement,g.type=g.container.dataset.type,g.closeButton=g.container.getElementsByClassName(n),g.content=g.container.getElementsByClassName("tPopupContent")[0],g.closeButton.length||(g.closeButton=document.createElement("a"),g.closeButton.classList.add(n),g.closeButton.setAttribute("href","#"),g.closeButton.addEventListener("click",c),g.content.appendChild(g.closeButton)),g.container.classList.contains(e)?c(t):i(t),t.preventDefault()}var e="tOpen",n="tBtClosePopup",o="tPopupOverlay",l=100,r=16;document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".tBtOpenPopup"),n=0;n<e.length;++n)e[n].addEventListener("click",t)})}();