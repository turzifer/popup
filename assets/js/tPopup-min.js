!function(){function t(t){function c(){var t=document.getElementsByTagName("VIDEO");if(t.length)for(var e=0;e<t.length;e++)t[e].pause()}function a(t){c(),g.container.classList.remove(e),"modal"===g.type&&(g.overlay=g.container.getElementsByClassName(n)[0],g.overlay.parentNode.removeChild(g.overlay)),t.preventDefault()}function s(t){var e=window.innerWidth;g.trigger={},g.trigger.left=t.target.offsetLeft,g.trigger.top=t.target.offsetTop;var o={};o.left=g.trigger.left,o.top=g.trigger.top-(g.content.offsetHeight+r),o.top<10&&(o.top=g.trigger.top+r),o.left+r+g.content.offsetWidth>e-10&&(o.left=e-(r+g.content.offsetWidth)),g.content.style.top=o.top+"px",g.content.style.left=o.left+"px",console.group(t.target),console.log("trigger.left: "+g.trigger.left),console.log("trigger.top: "+g.trigger.top),console.log("content.offsetHeight: "+g.content.offsetHeight),console.log("popup.content.offsetWidth: "+g.content.offsetWidth),console.log("screenWidth: "+e),console.log(g.content),console.groupEnd(t.target)}function i(t){switch(g.type){case"modal":g.overlay=document.createElement("div"),g.overlay.classList.add(n),l++,g.overlay.style.zIndex=l,g.container.appendChild(g.overlay);break;case"inplace":s(t)}l++,g.content.style.zIndex=l,c(),g.container.classList.add(e),t.preventDefault()}var g={};g.container=this.parentElement,g.type=g.container.dataset.type,g.closeButton=g.container.getElementsByClassName(o),g.content=g.container.getElementsByClassName("tPopupContent")[0],g.closeButton.length||(g.closeButton=document.createElement("a"),g.closeButton.classList.add(o),g.closeButton.setAttribute("href","#"),g.closeButton.addEventListener("click",a),g.content.appendChild(g.closeButton)),g.container.classList.contains(e)?a(t):i(t),t.preventDefault()}var e="tOpen",o="tBtClosePopup",n="tPopupOverlay",l=100,r=16;document.querySelectorAll(".tBtOpenPopup").forEach(function(e){e.addEventListener("click",t)})}();